package city;

import java.util.ArrayList;
import java.util.List;

import inhabitant.Inhabitant;
import letter.Letter;

public class City {
	protected String name;
	protected List<Inhabitant> inhabitants = new ArrayList<Inhabitant>();
	protected List<Letter> postBox = new ArrayList<Letter>();
	protected List<Letter> deliveringBox = new ArrayList<Letter>();

	City(String name) {
		this.name = name;
		System.out.println("Creating " + this.name + " city");
	}

	City(String name, int quantityOfInhabitant) {
		this.name = name;
		System.out.println("Creating " + this.name + " city");
		for (int i = 0; i < 100; i++)
			this.inhabitants.add(new Inhabitant());
	}

	City(String name, List<Inhabitant> inhabitants) {
		this.name = name;
		this.inhabitants.addAll(inhabitants);
	}

	public String getName() {
		return name;
	}

	public void addInhabitent(Inhabitant inhabitant) {
		this.inhabitants.add(inhabitant);
	}

	public void addInhabitents(List<Inhabitant> inhabitant) {
		this.inhabitants.addAll(inhabitants);
	}

	public void sendLetter(Inhabitant inhabitant, Letter letter) {
		postBox.add(letter);
	}

	public void distributeLetters() {
		while (!postBox.isEmpty()) {
			postBox.get(0).doSend();
			deliveringBox.add(postBox.get(0));
			postBox.remove(0);
		}
		// Add a way to send a receipt and thanks letter.
		while (!deliveringBox.isEmpty()) {
			deliveringBox.get(0).doReceive();
			deliveringBox.remove(0);
		}
	}
}
