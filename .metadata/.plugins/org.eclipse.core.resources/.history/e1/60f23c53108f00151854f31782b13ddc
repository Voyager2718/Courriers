package letter;

public class RegisteredLetter extends LetterDecorator {
	public RegisteredLetter(Letter decoratedLetter) {
		this.decoratedLetter = decoratedLetter;
	}

	public String getDescription() {
		return decoratedLetter.getDescription() + " with an acknowledgment of receipt";
	}

	public void doSend() {
		System.out.println("o-> Inhabitant-" + getSender()
				+ " mails a registered letter whose content is a simple letter whose content is a text content ("
				+ getText().getContent() + ") from inhabitant-" + getReceiver().getName());
	}

	public Letter doReceive() {
		Letter receipt = null;
		try {
			receipt = new Receipt(0, getReceiver(), getSender());
		} catch (IncorrectCostException e) {
		}
		return receipt;
	}

	public int getCost() {
		return decoratedLetter.getCost() + 15;
	}
}
